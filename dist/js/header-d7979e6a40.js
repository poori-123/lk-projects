"use strict";!function(){for(var s=$(".dis-list>li>a"),e=$(".dis-cont"),n=$(".txtinp"),t=0;t<s.length;t++)!function(n){s.eq(n).mouseenter(function(){s.each(function(n,s){$(s).removeClass("active"),e.eq(n).removeClass("show")}),$(this).addClass("active"),e.eq(n).addClass("show")})}(t);n.focus(function(){$(this).siblings("a").css("display","none")}),n.blur(function(){$(this).siblings("a").css("display","block")}),"index"==$(".header").attr("page")&&$(".searchWrap .all").css("display","none")}(),function(){var n,s=JSON.parse(localStorage.getItem("user"));getCookie("username")&&(n=getCookie("username"),$(".nav-right .nickname a").text("欢迎您"+s[n].nickname),$(".nav-right .nickname").css("display","block"),$(".nav-right .logout").css("display","block"),$(".nav-right .register").parent().css("display","none"),$(".nav-right .login").parent().css("display","none")),$(".nav-right .logout a").click(function(){$(".nav-right .nickname").css("display","none"),$(".nav-right .logout").css("display","none"),$(".nav-right .register").parent().css("display","block"),$(".nav-right .login").parent().css("display","block"),removeCookie("username"),removeCookie("userpsd"),location.reload()});var e=getCookie("username"),t=$(".nav-right .cart"),o=JSON.parse(localStorage.getItem(e+"goods"));if(o&&0!=Object.keys(o).length){t.find(".num").text(Object.keys(o).length),t.find(".empty").css("display","none"),t.find(".goodmsg").css("display","block");var a="";for(var i in o){var c=i.slice(0,i.length-3),l=c.slice(0,c.length-2);"phone"==l&&(l="mobilephone"),a+='<li code="'.concat(i,'">\n                        <div>   \n                            <h5><i class="on"></i></h5>\n                            <img src="').concat(o[i].goodssrc,'" alt="">\n                            <a href="./goodsDetail.html?type=').concat(l,"&code=").concat(c,'" target="_blank" title="').concat(o[i].goodsname,'">').concat(o[i].goodsname,"</a>\n                            <h6>￥<span>").concat(o[i].price,"</span> x <b>").concat(o[i].num,"</b></h6>\n                        </div>\n                        <h5><em>配</em>华为AM115半入耳式耳机（白色）x1</h5>\n                        <strong>X</strong>\n                    </li>")}t.find(".goodmsg ul").html(a),r()}else t.find(".empty").css("display","block"),t.find(".goodmsg").css("display","none");function r(){var e=0;$(".nav-right .cart .goodmsg ul i").each(function(n,s){$(s).hasClass("on")&&(e+=Number($(s).parent().siblings("h6").find("span").text())*Number($(s).parent().siblings("h6").find("b").text()))}),t.find(".cart-bot span").text(e)}t.on("click",".goodmsg ul h5 i",function(){$(this).toggleClass("on"),r()}),t.on("click",".goodmsg ul strong",function(){var n=$(this).parent().attr("code");delete o[n],t.find(".num").text(Object.keys(o).length);var s=JSON.stringify(o);localStorage.setItem(e+"goods",s),$(this).parent().remove(),0==Object.keys(o).length&&(t.find(".empty").css("display","block"),t.find(".goodmsg").css("display","none")),r()})}();